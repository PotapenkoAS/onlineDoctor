create table user
(
	user_id int auto_increment
		primary key,
	login int not null,
	password int not null,
	role int not null,
	constraint user_login_uindex
		unique (login),
	constraint user_password_uindex
		unique (password)
);

create table client
(
	client_id int auto_increment,
	name varchar(255) null,
	surname varchar(255) null,
	patronymic varchar(255) null,
	age int null,
	weight float null,
	height float null,
	sex bool null,
	user_id int not null,
	constraint client_pk
		primary key (client_id),
	constraint client_user_user_id_fk
		foreign key (user_id) references user (user_id)
);

create table admin
(
	admin_id int not null
		primary key,
	user_id int not null
);

alter table recordds modify Id_RecordDS int not null;

alter table recordds drop primary key;

alter table recordds drop column Id_RecordDS;

alter table recordds change Number_disease disease_id int not null;

alter table recordds change Number_symptom symptom_id int not null;

rename table recordds to disease_symptom;

create table disease_med
(
	disease_id int not null,
	medicament_id int null,
	constraint disease_med_disease_Id_Disease_fk
		foreign key (disease_id) references disease (Id_Disease),
	constraint disease_med_medicament_Id_Medicament_fk
		foreign key (medicament_id) references medicament (Id_Medicament)
);

alter table disease change Id_Disease disease_id int auto_increment;

alter table disease modify Name varchar(255) not null;

alter table disease modify Info text charset utf8 not null;

alter table medicament change Id_Medicament medicament_id int auto_increment;

alter table medicament modify Name varchar(255) not null;

alter table medicament modify Info text charset utf8 not null;

alter table symptom change Id_Symptom symptom_id int auto_increment;

alter table symptom modify Name varchar(255) not null;

alter table symptom modify Info text charset utf8 not null;

create table test
(
	test_id int auto_increment,
	client_id int not null,
	date date null,
	constraint test_pk
		primary key (test_id)
);

alter table test
	add constraint test_client_client_id_fk
		foreign key (client_id) references client (client_id);

alter table user modify login VARCHAR(255) not null;

alter table user modify password varchar(255) not null;

alter table user modify role VARCHAR(255) not null;
